<div class="hidden">
    {{{hidden}}}
</div>

<div class="col-md-6">
    <div class="box box-primary">
        <div class="box-body">
            <div id="z1" class="row">
                {{{z1}}}
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        var $idsubview = $('select[name="idsubview"]');
        var $idma = $('select[name="idmodelattribute"]');
        function setMA() {
            $idma.attr('data-where', 'id in (select ma.id from view v left join model m on (v.idmodel = m.id) left join modelattribute ma on (m.id = ma.idmodel) where v.id = ' + ($idsubview.val() || 0) + ')');
        }
        $idsubview.change(setMA);
        setMA();
    });
</script>